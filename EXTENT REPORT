package runner;

import org.testng.annotations.AfterClass;
import org.testng.annotations.BeforeClass;
import org.testng.annotations.Test;

import com.aventstack.extentreports.ExtentReports;
import com.aventstack.extentreports.ExtentTest;
import com.aventstack.extentreports.Status;
import com.aventstack.extentreports.reporter.ExtentSparkReporter;
import com.aventstack.extentreports.reporter.configuration.Theme;

public class ExtentReportDemo {

    ExtentReports reports;
    ExtentSparkReporter spark;

    @BeforeClass
    public void setupReport() {
        reports = new ExtentReports();
        spark = new ExtentSparkReporter("reports/MyExtentReport.html");
        spark.config().setDocumentTitle("Automation Report");
        spark.config().setReportName("Sample Test Report");
        spark.config().setTheme(Theme.DARK);

        reports.attachReporter(spark);
    }

    @Test
    public void sampleTest1() {
        ExtentTest test = reports.createTest("Sample Test 1");
        test.log(Status.INFO, "Test started");
        test.log(Status.PASS, "Step 1 passed");
        test.log(Status.PASS, "Step 2 passed");
        test.log(Status.PASS, "Sample Test 1 completed successfully");
    }

    @Test
    public void sampleTest2() {
        ExtentTest test = reports.createTest("Sample Test 2");
        test.log(Status.INFO, "Test started");
        test.log(Status.FAIL, "Step 1 failed");
        test.log(Status.SKIP, "Step 2 skipped because Step 1 failed");
        test.log(Status.INFO, "Sample Test 2 execution completed");
    }

    @AfterClass
    public void tearDownReport() {
        reports.flush();
    }
}
